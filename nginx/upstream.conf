upstream backend {
    least_conn;
    keepalive 32;

    # Default configuration - will be updated dynamically
    server backend-a-971441253898.europe-west1.run.app:443 weight=22 max_fails=3 fail_timeout=30s; # Health: 0.567 - Scores - RT:0.42 ER:0.91 TO:0.86 UP:0.00 DEG:0.70
    server backend-b-971441253898.europe-west1.run.app:443 weight=39 max_fails=3 fail_timeout=30s; # Health: 0.980 - Scores - RT:1.00 ER:0.99 TO:0.98 UP:1.00 DEG:0.90
    server backend-c-971441253898.europe-west1.run.app:443 weight=39 max_fails=3 fail_timeout=30s; # Health: 0.980 - Scores - RT:1.00 ER:0.99 TO:0.98 UP:1.00 DEG:0.90
}